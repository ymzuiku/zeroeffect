# Testing Standards for Interactive Elements

When creating interactive elements or components with event handlers (onclick, onchange, onkeydown, etc.), you MUST follow these guidelines:

## 1. Add data-testid Attribute

All interactive elements must include a `data-testid` attribute to enable testing.

```typescript
// ✓ Good - Has data-testid
h.button({
  'data-testid': 'todo-add-button',
  onclick: () => {
    // Add todo logic
  }
}, "Add Todo")

// ✗ Bad - Missing data-testid
h.button({
  onclick: () => {
    // Add todo logic
  }
}, "Add Todo")
```

## 2. Descriptive testid Naming

The `data-testid` value should be descriptive and follow this pattern:

- Use kebab-case (lowercase with hyphens)
- Include the component/action context
- Be specific about the element's function

```typescript
// ✓ Good examples
h.button({ 'data-testid': 'todo-item-delete-btn' }, "Delete")
h.input({ 'data-testid': 'todo-text-input' })
h.input({ 'data-testid': 'todo-checkbox' })
h.button({ 'data-testid': 'virtual-list-add-item' })

// ✗ Bad examples
h.button({ 'data-testid': 'btn1' }, "Click")
h.input({ 'data-testid': 'input1' })
h.div({ 'data-testid': 'item' })
```

## 3. Include Context in testid

When multiple similar elements exist, include context in the testid:

```typescript
// ✓ Good - Context is clear
h.button({ 'data-testid': 'todo-list-clear-all-btn' }, "Clear All")
h.button({ 'data-testid': 'todo-item-edit-btn' }, "Edit")

// ✗ Bad - No context
h.button({ 'data-testid': 'clear-btn' }, "Clear All")
h.button({ 'data-testid': 'edit-btn' }, "Edit")
```

## 4. Common Interactive Elements

All these elements MUST have `data-testid`:

- Buttons (onclick handlers)
- Input fields (oninput, onkeydown, onchange handlers)
- Checkboxes (onchange handlers)
- Select dropdowns (onchange handlers)
- Textareas (oninput, onkeydown handlers)
- Any element with event handlers

## 5. Example: Todo List

```typescript
const todoList = h.list(
  todos,
  (todo) =>
    h.div(
      {
        'data-testid': 'todo-item',
        onclick: () => handleClick(todo)
      },
      h.input({
        'data-testid': 'todo-checkbox',
        type: "checkbox",
        checked: () => todo.completed,
        onchange: () => toggleTodo(todo)
      }),
      h.span(
        { 'data-testid': 'todo-text' },
        () => todo.text
      ),
      h.button(
        { 'data-testid': 'todo-delete-btn' },
        "Delete"
      )
    )
)
```

## Why This Matters

1. **Testing**: Enables automated testing with tools like Playwright, Cypress, or Selenium
2. **Accessibility**: Helps QA teams identify interactive elements
3. **Maintenance**: Makes code easier to debug and maintain
4. **Documentation**: Serves as inline documentation of element purposes

## Lint Rule

This will be enforced during code reviews. Elements with event handlers must have `data-testid` attributes.
